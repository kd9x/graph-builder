<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Graph Builder</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="static/style.css">
</head>
<div id="wrapper">

    <body>
        <h1>Graph Builder</h1>
        <img src="{{filepath}}">

        <!-- add node -->
        <form action="addnode" method="GET">
            <button type="submit" id="submit">Add Node</button>
        </form>
        </br>
        <!-- remove node -->
        <form id="removenode" action="removenode" method="GET">
            {% if nodes|length > 0 %}
            <select id="label" name="label" form="removenode">
                {% for i in nodes %}
                <option value="{{i}}">{{i}}</option>
                {%endfor%}
            </select>
            {% endif %}

            <button type="submit" id="submit" {% if nodes|length == 0 %}disabled{% endif %}>Remove Node</button>

        </form>
        </br>
        <!-- complement graph -->
        <form action="complement" method="GET">
            <button type="submit" id="submit" {% if nodes|length <= 1 %}disabled{% endif %}>Complement Graph</button>
        </form>
        </br>
        <!-- clear edges -->
        <form action="clearedges" method="GET">
            <button type="submit" id="submit" {% if graph.edges|length == 0 %}disabled{% endif %}>Clear Edges</button>
        </form>
        </br>
        <!-- clear graph -->
        <form action="clear" method="GET">
            <button type="submit" id="submit" {% if nodes|length == 0 %}disabled{% endif %}>Clear Graph</button>
        </form>


        <h2>Toggle Edges</h2>
        {% if nodes|length <= 1 %}<p>[Need more nodes]</p>{% endif %}
        <!-- adjaceny matrix interface -->

        {% if nodes|length > 1 %}
        <form action="toggleedge" method="GET" id="adjmat">
            <table>
                <tr class="col-header">
                    <th></th>
                    {% for i in nodes %}
                    <th>{{i}}</th>
                    {%endfor%}
                </tr>

                {% for i in nodes %}
                <tr>
                    <td class="row">{{i}}</td>
                    {% for j in nodes %}
                    <td
                    {% if i == j %} class="disabled" {% endif %}
                    {% if graph.has_edge(i,j) %} class="active" {% endif %} >
                        
                        <button type="submit"
                        form="adjmat"
                        name="label"
                        value="{{i}}_{{j}}"
                        {% if i == j %} disabled {% endif %}
                         >
                        {% if graph.has_edge(i,j) %}
                        1
                        {% else %}
                        0
                        {% endif %}
                        </button>
                    </td>
                    {%endfor%}
                </tr>
                {%endfor%}

            </table>
        </form>
        {% endif %}

        <div>
            <h2>Adjaceny Matrix Array</h2>
                <p>{{matrix}}</p>

                <h2>JSON Node Link Data</h2>
                    <p>{{data}}</p>
        </div>

    </body>
</div>
<!--end wrapper-->

</html>